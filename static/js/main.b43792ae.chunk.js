(this["webpackJsonpv2ex-hot-topic-web"]=this["webpackJsonpv2ex-hot-topic-web"]||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n.n(c),i=n(8),r=n.n(i),o=(n(15),n(7)),h=n.n(o),u=n(9),l=n(2),d=n(3),p=n(5),j=n(4),b=(n(17),n(18),function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).props=void 0,a.props=e,a}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.date,n=e.topics;return Object(a.jsxs)("div",{className:"topics-container",children:[Object(a.jsx)("p",{className:"date-text",children:t}),0===n.length?Object(a.jsx)("p",{className:"null-text",children:"\u7a7a\u7a7a\u5982\u4e5f"}):n.map((function(e,t){return Object(a.jsxs)("div",{className:"topic-container",children:[Object(a.jsxs)("span",{className:"index-text",children:[t+1,"."]}),Object(a.jsx)("a",{className:"link-text",href:e.url,children:e.title})]},e.id)}))]})}}]),n}(s.a.Component));function f(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())}function x(){return new Date(Date.now()+60*(new Date).getTimezoneOffset()*1e3).getTime()}var v=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state=void 0,a.state={isFetching:!0,dailyTopics:[],failedFetching:!1},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(h.a.mark((function e(){var t,n,a,c,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=16082208e5,n=x();case 2:if(!(n>t)){e.next=25;break}return a=f(n),c="https://raw.githubusercontent.com/realLeonardo/v2ex-daily-hot-topic/master/raw/"+a+".json",e.prev=5,e.next=8,fetch(c);case 8:return s=e.sent,e.t0=a,e.next=12,s.json();case 12:e.t1=e.sent,i={date:e.t0,topics:e.t1},this.setState({dailyTopics:this.state.dailyTopics.concat(i)}),e.next=22;break;case 17:return e.prev=17,e.t2=e.catch(5),this.setState({failedFetching:!0}),console.error(e.t2),e.abrupt("break",25);case 22:n-=864e5,e.next=2;break;case 25:this.setState({isFetching:!1});case 26:case"end":return e.stop()}}),e,this,[[5,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"page-container",children:[Object(a.jsx)("header",{className:"header-text",children:"V2EX \u6bcf\u65e5\u70ed\u95e8\u8bdd\u9898"}),this.state.dailyTopics.map((function(e){return Object(a.jsx)(b,{topics:e.topics,date:e.date},e.date)})),this.state.isFetching&&Object(a.jsx)("p",{children:"\u83b7\u53d6\u6570\u636e\u4e2d..."}),this.state.failedFetching&&Object(a.jsxs)("p",{children:["\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff0c",Object(a.jsx)("span",{className:"error-text",onClick:this.refreshPage.bind(this),children:"\u5c1d\u8bd5\u5237\u65b0\u4e00\u4e0b\u5427"})]})]})}},{key:"refreshPage",value:function(){var e=this;this.setState({isFetching:!0,dailyTopics:[],failedFetching:!1}),setTimeout((function(){e.componentDidMount()}),2e3)}}]),n}(s.a.Component);r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(v,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.b43792ae.chunk.js.map